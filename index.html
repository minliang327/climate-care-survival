<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>å¯’æ½®æ±‚ç”Ÿ - Climate Care Survival</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <style>
        /* è¡¥å……ä¸€äº›åŸºç¡€å¸ƒå±€ï¼Œé˜²æ­¢ CSS æ–‡ä»¶æœªåŠ è½½æ—¶å´©æºƒ */
        #game-container { position: relative; max-width: 600px; margin: 0 auto; overflow: hidden; }
        .hidden { display: none !important; }
        .item-icon { width: 60px; height: 60px; border: 1px solid #ccc; display: inline-block; cursor: pointer; margin: 5px; }
        .item-icon img { width: 100%; height: 100%; object-fit: contain; }
        .outfit-slot { width: 70px; height: 70px; border: 2px dashed #999; display: flex; align-items: center; justify-content: center; background: #eee; }
        .next-btn, .choice-btn, .confirm-btn { padding: 10px 20px; cursor: pointer; margin: 5px; }
    </style>
</head>
<body>

<div id="game-container">
    <div id="start-screen">
        <img src="assets/title.png" id="game-logo" style="width: 60%;" alt="å¯’æ½®æ±‚ç”Ÿ">
        <button id="start-btn">å¼€å¯å¯’æ½®æ±‚ç”Ÿ</button>
    </div>

    <div id="background-layer"></div>
    
    <div id="character-layer">
        <img id="main-character" src="assets/figure/old_initial.png">
    </div>

    <div id="ui-overlay">
        <div id="stats-panel">
            <span id="day-indicator">ç¬¬ 0 å¤©</span> | 
            <span>ç”Ÿå‘½: <b id="health">10</b></span> | 
            <span>å¿ƒæƒ…: <b id="mood">10</b></span> | 
            <span>é€€ä¼‘é‡‘: <b id="pension">1000</b></span>
        </div>
        
        <div id="main-layout">
            <div id="stage-area">
                <div id="background-layer"></div>
            </div>
    
            <div id="character-sidebar">
                <div class="character-box">
                    <img id="avatar-display" src="assets/figure/old_initial.png">
                </div>
                <div class="character-label">å½“å‰çŠ¶æ€</div>
            </div>
        </div>

        <div id="weather-display">
            <div class="weather-item">æ¸©åº¦ğŸŒ¡ï¸ï¼š <span id="temp-val"> </span> æ‘„æ°åº¦</div>
            <div class="weather-item">é£åŠ›ğŸŒ¬ï¸ï¼š <span id="wind-val"> </span> çº§</div>
            <div class="weather-tag" id="weather-alert">æ­£å¸¸</div>
        </div>

        <div id="dialog-box">
            <div id="dialog-text">ã€äº‹å…ˆå‡†å¤‡ã€‘å¯’æ½®å°†è‡³ï¼Œä½ æœ‰ä¸€ç¬” 1000 å…ƒçš„é€€ä¼‘é‡‘...</div>
            <div id="choices-container"></div>
        </div>
    </div>
</div>

    <div id="wardrobe-overlay" class="hidden" style="position: absolute; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.8); color:#fff; padding: 20px; z-index: 100;">
        <div class="wardrobe-window">
            <h3>æ¢è£…é¢æ¿</h3>
            <p>ç‚¹å‡»ä¸‹æ–¹å›¾æ ‡ç©¿æˆ´éƒ¨ä»¶</p>
            
            <div class="current-outfit-preview" style="display: flex; justify-content: space-between; margin-bottom: 20px;">
                <div class="outfit-slot" id="slot-head"><span>å¤´</span></div>
                <div class="outfit-slot" id="slot-torso"><span>èº«</span></div>
                <div class="outfit-slot" id="slot-legs"><span>è…¿</span></div>
                <div class="outfit-slot" id="slot-feet"><span>è¶³</span></div>
                <div class="outfit-slot" id="slot-acc1"><span>ä»¶</span></div>
            </div>
    
            <hr>
    
            <div id="item-grid" class="item-grid" style="max-height: 200px; overflow-y: auto; background: rgba(255,255,255,0.1); padding: 10px;">
                </div>
    
            <button class="confirm-btn" onclick="UI.closeWardrobe()" style="width: 100%; margin-top: 20px; background: #4caf50; color: #fff;">æ•´ç†å®Œæ¯• (æ¢å¥½äº†)</button>
        </div>
    </div>

</div>

<script src="Main.js"></script>

<script>
/**
 * å¯åŠ¨é€»è¾‘ç»‘å®š
 * ç¡®ä¿ Main.js åŠ è½½åï¼Œç‚¹å‡»æŒ‰é’®è§¦å‘æ¸¸æˆå¯åŠ¨
 */
document.addEventListener("DOMContentLoaded", () => {
    const startBtn = document.getElementById("start-btn");
    
    // åˆå§‹çŠ¶æ€ä¸‹å¯¹è¯æ¡†æ˜¾ç¤ºæ¬¢è¿è¯­
    UI.updateDialog("æ¬¢è¿æ¥åˆ°ç”³åŸä¸¥å†¬ã€‚å‡†å¤‡å¥½è¿æ¥ç¬¬ä¸€æ³¢å¯’æ½®äº†å—ï¼Ÿ");

    startBtn.addEventListener("click", () => {
        if (window.Game) {
            Game.startGame();
        } else {
            console.error("Game å¼•æ“å°šæœªåŠ è½½å®Œæˆ");
        }
    });
});
</script>

</body>
</html>